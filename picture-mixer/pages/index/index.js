import { config } from "../../components/custom-mixer/config";

Page({
    data: {
        config: {
            watermark: {
                url: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXgAAAFQCAYAAAC1YmX9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3dpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMS1jMDAwIDc5LmRhYmFjYmIsIDIwMjEvMDQvMTQtMDA6Mzk6NDQgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6Yjg1MDljZGEtOWNjYS0xYzQ3LTgyNDYtZmM1N2NhMzQxZjQ3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjgwNDdFNENCRDJBMDExRUNBMDFERDhDM0MwRTNBMjU0IiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjgwNDdFNENBRDJBMDExRUNBMDFERDhDM0MwRTNBMjU0IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjYwOTI0YTZiLTMyMDMtNDE0ZC04MTViLWQ0ZjI0MzY2M2RhMyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpiODUwOWNkYS05Y2NhLTFjNDctODI0Ni1mYzU3Y2EzNDFmNDci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',
                width: 234,
                height: 195
            },
        }
    },
    onReady() {
        this.setData({ ['config.allowRemove']: true })
        this.setData({ ['config.allowScale']: true })
        this.setData({ ['config.allowMove']: true })
        this.setData({ ['config.allowRotate']: true })
    },
    add() {
        wx.chooseMedia({
            count: 1,
            mediaType: ['image'],
            sourceType: ['album', 'camera'],
            maxDuration: 30,
            camera: 'back',
            success: (res) => {
                res.tempFiles.forEach(t => {
                    try {
                        this.selectComponent('#pm').add(t.tempFilePath)
                    } catch (error) {
                        console.log(error);
                    }
                })
            }
        })
    },
    async save() {
        let res = await this.selectComponent('#pm').save()
        console.log(res);
        wx.previewImage({
            urls: [res.tempFilePath],
        })
        this.setData({ preSrc: res.tempFilePath, w: res.width, h: res.height })
    },
    change(e) {
        console.log(e);
    }
})
